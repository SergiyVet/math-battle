# Math Battle

–ü—Ä–æ—Å—Ç–∏–π MVP –¥–ª—è –∑–º–∞–≥–∞–Ω–Ω—è —É —à–≤–∏–¥–∫–æ—Å—Ç—ñ —Ä–æ–∑–≤'—è–∑–∞–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö –ø—Ä–∏–∫–ª–∞–¥—ñ–≤.

–ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ:

```bash
cd D:\site\math-battle
node server.js
```

–í—ñ–¥–∫—Ä–∏–π —É –±—Ä–∞—É–∑–µ—Ä—ñ http://localhost:3000
–ö–æ–ª–∏ –±—É–¥–µ—à –≥–æ—Ç–æ–≤–∏–π, –º–æ–∂—É –¥–æ–¥–∞—Ç–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ `npm start` —Ç–∞ –ø–æ–ª—ñ–ø—à–∏—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.

API:

- `GET /api/matches` ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î –æ—Å—Ç–∞–Ω–Ω—ñ 50 –º–∞—Ç—á—ñ–≤ —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON.

–†–µ–∞–ª—å–Ω–∏–π —á–∞—Å:

- –°–µ—Ä–≤–µ—Ä –µ–º–∏—Ç—å `newMatch` —á–µ—Ä–µ–∑ Socket.IO –∫–æ–ª–∏ –∑–∞–ø–∏—Å—É—î—Ç—å—Å—è –Ω–æ–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –∫–ª—ñ—î–Ω—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞—é—Ç—å –∑–∞–ø–∏—Å —É —ñ—Å—Ç–æ—Ä—ñ—é.

–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è:

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—Ä–æ—Å—Ç–∏–π email/password –ª–æ–≥—ñ–Ω –∑ bcrypt + JWT.
- –©–æ–± –¥–æ–¥–∞—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ, –≤–∏–∫–æ–Ω–∞–π —É –ø–∞–ø—Ü—ñ –ø—Ä–æ—î–∫—Ç—É:

```bash
npm install bcryptjs jsonwebtoken
```

- –ï–Ω–¥–ø–æ—ó–Ω—Ç–∏:
	- `POST /api/register` { name, email, password } ‚Üí { token }
	- `POST /api/login` { email, password } ‚Üí { token }

–ö–ª—ñ—î–Ω—Ç –∑–±–µ—Ä—ñ–≥–∞—î `token` —É `localStorage` —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –π–æ–≥–æ –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Socket.IO (–ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ `join`).

Google OAuth:

- –©–æ–± —É–≤—ñ–º–∫–Ω—É—Ç–∏ –≤—Ö—ñ–¥ —á–µ—Ä–µ–∑ Google, –¥–æ–¥–∞–π –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è:
	- `GOOGLE_CLIENT_ID`
	- `GOOGLE_CLIENT_SECRET`
	- (–æ–ø—Ü—ñ–π–Ω–æ) `GOOGLE_CALLBACK_URL` –∞–±–æ `GOOGLE_REDIRECT_PATH`

- –í—Å—Ç–∞–Ω–æ–≤–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–∞–∫–µ—Ç–∏:

```bash
npm install passport passport-google-oauth20 express-session
```

- –ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è, –∫–Ω–æ–ø–∫–∞ "–£–≤—ñ–π—Ç–∏ —á–µ—Ä–µ–∑ Google" –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ Google, –∞ –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –ª–æ–≥—ñ–Ω—É —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–∑–∞–¥ —ñ–∑ `?token=...` —É URL ‚Äî –∫–ª—ñ—î–Ω—Ç –∑—á–∏—Ç–∞—î —Ç–æ–∫–µ–Ω —ñ –∑–±–µ—Ä–µ–∂–µ –π–æ–≥–æ.

–†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è (—à–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç)
-------------------------

**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:**
- üåê –°–∞–π—Ç: **Render.com** (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π Web Service)
- üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö: **Supabase** (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π PostgreSQL 500MB)

**–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:** [`DEPLOY_SUPABASE.md`](DEPLOY_SUPABASE.md)

### –®–≤–∏–¥–∫—ñ –∫—Ä–æ–∫–∏:

1) **–°—Ç–≤–æ—Ä–∏ –±–∞–∑—É –Ω–∞ Supabase:**
   - –ó–∞–π–¥–∏ –Ω–∞ https://supabase.com
   - –°—Ç–≤–æ—Ä–∏ –ø—Ä–æ–µ–∫—Ç `math-battle`
   - –°–∫–æ–ø—ñ—é–π Connection String (URI) –∑ Database settings

2) **–ó–∞–≤–∞–Ω—Ç–∞–∂ –∫–æ–¥ –Ω–∞ GitHub:**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin https://github.com/YOUR_USERNAME/math-battle.git
   git push -u origin main
   ```

3) **–î–µ–ø–ª–æ–π –Ω–∞ Render:**
   - –ó–∞–π–¥–∏ –Ω–∞ https://render.com
   - –°—Ç–≤–æ—Ä–∏ Web Service –∑ —Ç–≤–æ–≥–æ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
   - –î–æ–¥–∞–π –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è:
     - `DATABASE_URL` - connection string –∑ Supabase
     - `JWT_SECRET` - —Ç–≤—ñ–π —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á
     - `SESSION_SECRET` - —Ç–≤—ñ–π —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á –¥–ª—è —Å–µ—Å—ñ–π
     - `NODE_ENV=production`

4) **–ì–æ—Ç–æ–≤–æ!** –°–∞–π—Ç –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ `https://math-battle.onrender.com`

### –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫:

```bash
cp .env.example .env
# –ó–∞–ø–æ–≤–Ω–∏ DATABASE_URL —Ç–∞ —ñ–Ω—à—ñ –∑–º—ñ–Ω–Ω—ñ –≤ .env
npm install
npm start
```

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:

–ü—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î PostgreSQL. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è **Supabase**:

‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ Supabase:
- 500 MB –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ (–±—ñ–ª—å—à–µ –Ω—ñ–∂ Render PostgreSQL)
- –ù–µ –≤–∏–¥–∞–ª—è—î—Ç—å—Å—è —á–µ—Ä–µ–∑ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
- –®–≤–∏–¥–∫—ñ EU —Å–µ—Ä–≤–µ—Ä–∏ (Frankfurt)
- –ó—Ä—É—á–Ω–∏–π Table Editor –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –¥–∞–Ω–∏—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –±–µ–∫–∞–ø–∏

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏: Render PostgreSQL, Railway, ElephantSQL, Neon.

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ SQLite (—Ñ–∞–π–ª `math.db`).

