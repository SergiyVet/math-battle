<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Math Battle - –ú–∞—Ä–∞—Ñ–æ–Ω –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app-wrapper">
    <!-- –õ–æ–≥—ñ–Ω -->
    <div id="login" class="login-screen">
      <div class="login-box">
        <h1 class="logo">‚ö° Math Battle ‚ö°</h1>
        <p class="tagline">–ú–∞—Ä–∞—Ñ–æ–Ω –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ - –ø–µ—Ä–µ–º–æ–≥–∞–π —É —á–∞—Å—ñ!</p>
        
        <div class="form-group">
          <input id="name" placeholder="–í–≤–µ–¥–∏ —ñ–º'—è (–∞–±–æ –Ω—ñ–∫)" class="input-field" />
          <input id="email" placeholder="Email (–¥–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó/–ª–æ–≥—ñ–Ω—É)" class="input-field" />
          <input id="password" type="password" placeholder="–ü–∞—Ä–æ–ª—å (–¥–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó/–ª–æ–≥—ñ–Ω—É)" class="input-field" />
        </div>

        <div class="login-controls">
          <button id="join" class="btn btn-primary">üöÄ –ì—Ä–∞—Ç–∏ —è–∫ –≥—ñ—Å—Ç—å</button>
          <button id="register" class="btn btn-secondary">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</button>
          <button id="loginBtn" class="btn btn-secondary">–õ–æ–≥—ñ–Ω</button>
          <a id="googleLogin" class="btn btn-google">üîê Google</a>
        </div>
      </div>
    </div>

    <!-- –í–∏–±—ñ—Ä —Ä—ñ–≤–Ω—è —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ -->
    <div id="difficulty-select">
      <div class="difficulty-box">
        <h1 class="logo">‚ö° Math Battle ‚ö°</h1>
        <p class="subtitle">–í–∏–±–µ—Ä–∏ —Ä—ñ–≤–µ–Ω—å —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ</p>
        
        <div class="difficulty-grid">
          <div class="difficulty-card easy" data-level="easy">
            <div class="difficulty-icon">üå±</div>
            <div class="difficulty-name">–õ–ï–ì–ö–ò–ô</div>
            <div class="difficulty-desc">–ü—Ä–æ—Å—Ç—ñ –ø—Ä–∏–∫–ª–∞–¥–∏</div>
            <div class="difficulty-range">1 - 50</div>
          </div>

          <div class="difficulty-card normal" data-level="normal">
            <div class="difficulty-icon">‚öîÔ∏è</div>
            <div class="difficulty-name">–ó–í–ò–ß–ê–ô–ù–ò–ô</div>
            <div class="difficulty-desc">–ü–æ–º—ñ—Ä–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å</div>
            <div class="difficulty-range">1 - 100</div>
          </div>

          <div class="difficulty-card hard" data-level="hard">
            <div class="difficulty-icon">üî•</div>
            <div class="difficulty-name">–°–ö–õ–ê–î–ù–ò–ô</div>
            <div class="difficulty-desc">–°—É–ø–µ—Ä—Å–∫–ª–∞–¥–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏</div>
            <div class="difficulty-range">1 - 200</div>
          </div>
        </div>

        <button id="back-to-menu" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥</button>
      </div>
    </div>

    <!-- –ì—Ä–∞ -->
    <div id="game">
      <!-- –®–∞–ø–∫–∞ -->
      <header class="game-header">
        <div class="header-left">
          <h1 class="logo-small">‚ö° Math Battle</h1>
          <span id="player-name" class="player-badge"><strong id="display-name">Guest</strong></span>
        </div>
        <div class="header-right">
          <div class="level-badge" id="level-badge">–õ–ï–ì–ö–ò–ô</div>
          <button id="toggle-leaderboard" class="btn-icon" aria-label="Toggle leaderboard">üèÜ</button>
          <button id="quit-game" class="btn-icon">‚öôÔ∏è</button>
        </div>
      </header>

      <!-- –û—Å–Ω–æ–≤–Ω–∞ –æ–±–ª–∞—Å—Ç—å –≥—Ä–∏ -->
      <main class="game-container">
        <div class="question-section">
          <!-- –ü—Ä–æ–≥—Ä–µ—Å -->
          <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
            <div class="progress-text" id="progress-text">0/10</div>
          </div>

          <!-- –ü–∏—Ç–∞–Ω–Ω—è -->
          <div class="question-box">
            <div id="question" class="question-text">–ù–∞—Ç–∏—Å–Ω–∏ "–ü–æ—á–∞—Ç–∏"</div>
            <div class="timer-display" id="timer-display">
              <svg class="timer-circle" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="45" class="timer-bg"></circle>
                <circle cx="50" cy="50" r="45" class="timer-circle-progress" id="timer-progress"></circle>
              </svg>
              <div class="timer-text">
                <span id="timer" class="timer-value">--</span>
                <span class="timer-label">—Å–µ–∫</span>
              </div>
            </div>
          </div>

          <!-- –í–≤—ñ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ -->
          <div class="answer-section">
            <input id="answer" type="text" pattern="-?[0-9]*" placeholder="–í–≤–µ–¥–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å..." class="answer-input" inputmode="text" />
            <div class="answer-controls">
              <button id="submit" class="btn btn-success">‚úì –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
              <button id="new" class="btn btn-primary">‚ñ∂ –ü–æ—á–∞—Ç–∏ / –î–∞–ª—ñ</button>
            </div>
          </div>

          <!-- –°—Ç–∞—Ç—É—Å -->
          <div id="status-message" class="status-message"></div>
        </div>

        <!-- –°–∞–π–¥–±–∞—Ä –∑ –ª—ñ–¥–µ—Ä–±–æ—Ä–¥–æ–º -->
        <aside class="sidebar">
          <div class="sidebar-section">
            <h3>–†–µ–∫–æ—Ä–¥–∏ (<span id="level-name">–ó–í–ò–ß–ê–ô–ù–ò–ô</span>)</h3>
            <ol id="leaderboard" class="leaderboard-list"></ol>
          </div>
        </aside>
      </main>
    </div>

    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≥—Ä–∏ -->
    <div id="results">
      <div class="results-box">
        <h1>üéâ –ì—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h1>
        
        <div class="results-stats">
          <div class="stat-item">
            <div class="stat-label">–ì—Ä–∞–≤–µ—Ü—å</div>
            <div class="stat-value" id="result-name">Guest</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">–†—ñ–≤–µ–Ω—å</div>
            <div class="stat-value" id="result-level">-</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">–ü—Ä–∞–≤–∏–ª—å–Ω—ñ</div>
            <div class="stat-value" id="result-correct">0/10</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">–ß–∏—Å—Ç–∏–π —á–∞—Å</div>
            <div class="stat-value" id="result-clean-time">0.00 —Å</div>
          </div>
          <div class="stat-item" id="penalty-stat" style="display:none;">
            <div class="stat-label">‚ö†Ô∏è –®—Ç—Ä–∞—Ñ –∑–∞ –ø–æ–º–∏–ª–∫–∏</div>
            <div class="stat-value" id="result-penalty" style="color: #ff6b6b;">+0 —Å</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">–ó–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å</div>
            <div class="stat-value" id="result-time" style="font-weight: bold; color: #4ecdc4;">0.00 —Å</div>
          </div>
        </div>

        <div class="results-leaderboard">
          <h3>üìä –†–µ–∫–æ—Ä–¥–∏ —Ä—ñ–≤–Ω—è</h3>
          <ol id="result-leaderboard" class="leaderboard-list"></ol>
        </div>

        <div id="guest-register-notice" style="display:none;" class="guest-notice">
          <p>üí° <strong>–ì—Ä–∞–≤(–ª–∞) —è–∫ –≥—ñ—Å—Ç—å?</strong> –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Å—è, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ —Å–µ–±–µ –≤ —Ç–∞–±–ª–∏—Ü—ñ —Ä–µ–∫–æ—Ä–¥—ñ–≤!</p>
          <button id="register-from-results" class="btn btn-primary">üìù –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—å</button>
        </div>

        <div class="results-actions">
          <button id="play-again" class="btn btn-primary">üîÑ –ì—Ä–∞—Ç–∏ —â–µ</button>
          <button id="back-menu" class="btn btn-secondary">üè† –í –º–µ–Ω—é</button>
        </div>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="app.js"></script>
</body>
</html>
