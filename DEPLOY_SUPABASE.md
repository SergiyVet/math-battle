# üöÄ –î–µ–ø–ª–æ–π Math Battle: Render + Supabase

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:
- **üåê –°–∞–π—Ç:** Render.com (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π Web Service)
- **üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:** Supabase (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π PostgreSQL)

---

## –ß–∞—Å—Ç–∏–Ω–∞ 1Ô∏è‚É£: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –Ω–∞ Supabase

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç –Ω–∞ Supabase

1. –ó–∞–π–¥–∏ –Ω–∞ https://supabase.com
2. –ù–∞—Ç–∏—Å–Ω–∏ **"Start your project"** –∞–±–æ **"Sign in"**
3. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Å—è —á–µ—Ä–µ–∑ GitHub (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ)
4. –ù–∞—Ç–∏—Å–Ω–∏ **"New Project"**

### –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É

1. **Organization:** –≤–∏–±–µ—Ä–∏ –∞–±–æ —Å—Ç–≤–æ—Ä–∏ –Ω–æ–≤—É
2. **Project Name:** `math-battle`
3. **Database Password:** —Å—Ç–≤–æ—Ä–∏ –Ω–∞–¥—ñ–π–Ω–∏–π –ø–∞—Ä–æ–ª—å (–∑–±–µ—Ä–µ–∂–∏ –π–æ–≥–æ!) üîê
4. **Region:** `Central EU (Frankfurt)` - –Ω–∞–π–±–ª–∏–∂—á–µ –¥–æ –£–∫—Ä–∞—ó–Ω–∏
5. **Pricing Plan:** `Free` ‚úÖ
6. –ù–∞—Ç–∏—Å–Ω–∏ **"Create new project"**
7. ‚è≥ –ó–∞—á–µ–∫–∞–π 1-2 —Ö–≤–∏–ª–∏–Ω–∏ –ø–æ–∫–∏ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –±–∞–∑–∞

### –ö—Ä–æ–∫ 3: –û—Ç—Ä–∏–º–∞—Ç–∏ DATABASE_URL

1. –£ –ª—ñ–≤–æ–º—É –º–µ–Ω—é –Ω–∞—Ç–∏—Å–Ω–∏ **‚öôÔ∏è Project Settings**
2. –ü–µ—Ä–µ–π–¥–∏ –¥–æ **Database**
3. –ü—Ä–æ–∫—Ä—É—Ç–∏ –¥–æ —Ä–æ–∑–¥—ñ–ª—É **"Connection string"**
4. –í–∏–±–µ—Ä–∏ –≤–∫–ª–∞–¥–∫—É **"URI"** (–Ω–µ Postgres)
5. –°–∫–æ–ø—ñ—é–π **Connection string** - –≤—ñ–Ω –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫:
   ```
   postgresql://postgres.[PROJECT-REF]:[YOUR-PASSWORD]@aws-0-eu-central-1.pooler.supabase.com:6543/postgres
   ```
6. ‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û:** –ó–∞–º—ñ—Å—Ç—å `[YOUR-PASSWORD]` –≤—Å—Ç–∞–≤–∏—Ç–∏ —Å–≤—ñ–π –ø–∞—Ä–æ–ª—å –≤—ñ–¥ –±–∞–∑–∏!

### –ö—Ä–æ–∫ 4: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Connection Pooler (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

–î–ª—è –∫—Ä–∞—â–æ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –Ω–∞ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–º—É –ø–ª–∞–Ω—ñ:

1. –£ —Ä–æ–∑–¥—ñ–ª—ñ **Database** –∑–Ω–∞–π–¥–∏ **Connection Pooling**
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è —â–æ **Pool Mode** = `Transaction`
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π **Connection string** –∑ –ø–æ—Ä—Ç–æ–º `:6543` (pooler)
4. –§–æ—Ä–º–∞—Ç: `postgresql://postgres.[ref]:[pass]@aws-0-eu-central-1.pooler.supabase.com:6543/postgres`

---

## –ß–∞—Å—Ç–∏–Ω–∞ 2Ô∏è‚É£: –î–µ–ø–ª–æ–π —Å–∞–π—Ç—É –Ω–∞ Render

### –ö—Ä–æ–∫ 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ GitHub

```powershell
# –£ PowerShell –≤ –ø–∞–ø—Ü—ñ d:\site\math-battle
cd d:\site\math-battle

# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ git (—è–∫—â–æ —â–µ –Ω–µ –∑—Ä–æ–±–ª–µ–Ω–æ)
git init

# –î–æ–¥–∞—Ç–∏ –≤—Å—ñ —Ñ–∞–π–ª–∏
git add .

# –ó—Ä–æ–±–∏—Ç–∏ –∫–æ–º—ñ—Ç
git commit -m "Deploy Math Battle with Supabase"

# –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏ –¥–æ GitHub (–∑–∞–º—ñ—Å—Ç—å YOUR_USERNAME - —Å–≤–æ—î —ñ–º'—è)
git remote add origin https://github.com/YOUR_USERNAME/math-battle.git

# –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏
git branch -M main
git push -u origin main
```

### –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–∏—Ç–∏ Web Service –Ω–∞ Render

1. –ó–∞–π–¥–∏ –Ω–∞ https://render.com
2. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Å—è —á–µ—Ä–µ–∑ GitHub
3. –ù–∞—Ç–∏—Å–Ω–∏ **"New +"** ‚Üí **"Web Service"**
4. –í–∏–±–µ—Ä–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π `math-battle`
5. –ù–∞—Ç–∏—Å–Ω–∏ **"Connect"**

### –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Web Service

**Basic Settings:**
- **Name:** `math-battle`
- **Region:** `Frankfurt (EU Central)`
- **Branch:** `main`
- **Runtime:** `Node`
- **Build Command:** `npm install`
- **Start Command:** `npm start`
- **Instance Type:** `Free` ‚úÖ

**Environment Variables:**

–ù–∞—Ç–∏—Å–Ω–∏ **"Advanced"** ‚Üí **"Add Environment Variable"**

–î–æ–¥–∞–π —Ç–∞–∫—ñ –∑–º—ñ–Ω–Ω—ñ:

| Key | Value |
|-----|-------|
| `DATABASE_URL` | —Ç–≤—ñ–π connection string –∑ Supabase (–∑ –ø–∞—Ä–æ–ª–µ–º!) |
| `JWT_SECRET` | `your_secure_jwt_secret_key_12345678` |
| `SESSION_SECRET` | `your_secure_session_secret_987654321` |
| `NODE_ENV` | `production` |

**–î–ª—è Google OAuth (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):**

| Key | Value |
|-----|-------|
| `GOOGLE_CLIENT_ID` | —Ç–≤—ñ–π Google Client ID |
| `GOOGLE_CLIENT_SECRET` | —Ç–≤—ñ–π Google Client Secret |

### –ö—Ä–æ–∫ 4: –î–µ–ø–ª–æ–π!

1. –ù–∞—Ç–∏—Å–Ω–∏ **"Create Web Service"**
2. ‚è≥ –ó–∞—á–µ–∫–∞–π 3-5 —Ö–≤–∏–ª–∏–Ω
3. Render –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
4. –ö–æ–ª–∏ —Å—Ç–∞—Ç—É—Å —Å—Ç–∞–Ω–µ **"Live"** üü¢ - –≥–æ—Ç–æ–≤–æ!

### –ö—Ä–æ–∫ 5: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

1. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏:**
   - –í—ñ–¥–∫—Ä–∏–π **Logs** –Ω–∞ Render
   - –®—É–∫–∞–π —Ä—è–¥–∫–∏:
     ```
     ‚úÖ Database connected successfully at: ...
     ‚úÖ Database tables initialized successfully!
     üìä Current data: 0 users, 0 scores, 0 matches, 0 game results
     ```

2. **–í—ñ–¥–∫—Ä–∏—Ç–∏ —Å–∞–π—Ç:**
   ```
   https://math-battle.onrender.com
   ```
   (–∞–±–æ —Ç–≤–æ—è –Ω–∞–∑–≤–∞)

3. **–ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏:**
   - –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
   - –ó—ñ–≥—Ä–∞–π 10 –ø–∏—Ç–∞–Ω—å
   - –ü–µ—Ä–µ–≤—ñ—Ä —á–∏ –∑'—è–≤–∏–≤—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É —Ç–∞–±–ª–∏—Ü—ñ —Ä–µ–∫–æ—Ä–¥—ñ–≤

---

## ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ Supabase:

- **500 MB** –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (–±—ñ–ª—å—à–µ –Ω—ñ–∂ –Ω–∞ Render)
- **–ù–µ –≤–∏–¥–∞–ª—è—î—Ç—å—Å—è** —á–µ—Ä–µ–∑ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
- **–®–≤–∏–¥–∫–∏–π EU —Å–µ—Ä–≤–µ—Ä** (Frankfurt)
- **–ê–≤—Ç–æ-–±–µ–∫–∞–ø–∏** —â–æ–¥–Ω—è
- **Dashboard** –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —Ç–∞–±–ª–∏—Ü—å
- **SQL Editor** –¥–ª—è –∑–∞–ø–∏—Ç—ñ–≤

---

## üîÑ –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–¥—É:

–ü—ñ—Å–ª—è –∑–º—ñ–Ω —É –∫–æ–¥—ñ:

```powershell
cd d:\site\math-battle
git add .
git commit -m "Update: –æ–ø–∏—Å –∑–º—ñ–Ω"
git push
```

Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–¥–µ–ø–ª–æ—ó—Ç—å –Ω–æ–≤—É –≤–µ—Ä—Å—ñ—é! ‚úÖ

---

## üîç –ü–µ—Ä–µ–≥–ª—è–¥ –¥–∞–Ω–∏—Ö —É Supabase:

1. –ó–∞–π–¥–∏ –Ω–∞ https://supabase.com
2. –í–∏–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç `math-battle`
3. –£ –ª—ñ–≤–æ–º—É –º–µ–Ω—é ‚Üí **Table Editor**
4. –ü–æ–±–∞—á–∏—à —Ç–∞–±–ª–∏—Ü—ñ:
   - `users` - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
   - `game_results` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —ñ–≥–æ—Ä
   - `scores` - –∑–∞–≥–∞–ª—å–Ω—ñ —Ä–∞—Ö—É–Ω–∫–∏
   - `matches` - —ñ—Å—Ç–æ—Ä—ñ—è –æ–∫—Ä–µ–º–∏—Ö –ø–∏—Ç–∞–Ω—å

---

## ‚ö†Ô∏è –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ –ª—ñ–º—ñ—Ç–∏:

**Supabase Free:**
- 500 MB Database
- 2 GB File Storage
- 50 GB Bandwidth/–º—ñ—Å—è—Ü—å
- –ë–µ–∑–ª—ñ–º—ñ—Ç–Ω—ñ API –∑–∞–ø–∏—Ç–∏

**Render Free:**
- 750 –≥–æ–¥–∏–Ω/–º—ñ—Å—è—Ü—å (–¥–æ—Å—Ç–∞—Ç–Ω—å–æ)
- –°–µ—Ä–≤–µ—Ä –∑–∞—Å–∏–Ω–∞—î –ø—ñ—Å–ª—è 15 —Ö–≤ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- –ü–µ—Ä—à–∏–π –∑–∞–ø—É—Å–∫ –ø—ñ—Å–ª—è —Å–Ω—É: 30-60 —Å–µ–∫

---

## üÜò Troubleshooting:

### –ü–æ–º–∏–ª–∫–∞: Database connection failed

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä DATABASE_URL —É Render Environment Variables
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è —â–æ –ø–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π connection pooler (–ø–æ—Ä—Ç 6543)
4. –ü–µ—Ä–µ–≤—ñ—Ä —â–æ —Ñ–æ—Ä–º–∞—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π: `postgresql://postgres.[ref]:[password]@...`

### –ü–æ–º–∏–ª–∫–∞: SSL connection error

**–†—ñ—à–µ–Ω–Ω—è:**
- –°—Épabase –≤–∏–º–∞–≥–∞—î SSL - –∫–æ–¥ –≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è —â–æ `NODE_ENV=production` —É Render

### –î–∞–Ω—ñ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è

**–†—ñ—à–µ–Ω–Ω—è:**
1. –í—ñ–¥–∫—Ä–∏–π –ª–æ–≥–∏ –Ω–∞ Render
2. –®—É–∫–∞–π –ø–æ–º–∏–ª–∫–∏ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ —Ç–∞–±–ª–∏—Ü—å
3. –ó–∞–π–¥–∏ —É Supabase ‚Üí Table Editor - –ø–µ—Ä–µ–≤—ñ—Ä —á–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏—Å—å —Ç–∞–±–ª–∏—Ü—ñ
4. –Ø–∫—â–æ —Ç–∞–±–ª–∏—Ü—å –Ω–µ–º–∞—î - —Å–µ—Ä–≤–µ—Ä –Ω–µ –º–æ–∂–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—å

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä —É —Ç–µ–±–µ:
- ‚úÖ –°—Ç–∞–±—ñ–ª—å–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–∞ Supabase (–Ω–µ –≤—Ç—Ä–∞—á–∞—î—Ç—å—Å—è)
- ‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π —Ö–æ—Å—Ç–∏–Ω–≥ –Ω–∞ Render
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –¥–µ–ø–ª–æ—ó —á–µ—Ä–µ–∑ GitHub
- ‚úÖ EU —Å–µ—Ä–≤–µ—Ä–∏ (—à–≤–∏–¥–∫–æ –¥–ª—è –£–∫—Ä–∞—ó–Ω–∏)

–ì—Ä–∞—î–º–æ: **https://math-battle.onrender.com** üöÄ
